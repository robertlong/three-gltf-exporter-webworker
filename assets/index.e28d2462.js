const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}};p();const h="modulepreload",c={},m="/",w=function(t,o){return!o||o.length===0?t():Promise.all(o.map(e=>{if(e=`${m}${e}`,e in c)return;c[e]=!0;const n=e.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":h,n||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),n)return new Promise((u,f)=>{i.addEventListener("load",u),i.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>t())};function d(s){const t=document.createElement("div");t.classList.add("info");const o=document.createElement("span");o.innerText=s,t.appendChild(o);const e=document.createElement("button");return e.innerText="Export glTF",t.appendChild(e),document.body.appendChild(t),e}function l(s,t){const o=new Blob([s],{type:"application/octet-stream"}),e=document.createElement("a");e.style.display="none",document.body.appendChild(e),e.href=URL.createObjectURL(o),e.download=t,e.click(),document.body.removeChild(e)}const a=document.getElementById("canvas");if(typeof OffscreenCanvas!="undefined"){const s=d("Using WebWorker + OffscreenCanvas"),t=a.transferControlToOffscreen(),o=new Worker("/assets/worker.99f83b0b.js",{type:"module"});o.postMessage({type:"start",canvas:t,width:window.innerWidth,height:window.innerHeight},[t]),window.addEventListener("resize",()=>{o.postMessage({type:"resize",pixelRatio:devicePixelRatio,width:window.innerWidth,height:window.innerHeight})}),s.addEventListener("click",()=>{o.postMessage({type:"export"})}),o.addEventListener("message",({data:e})=>{e.type==="result"&&l(e.buffer,"scene.glb")})}else{const s=d("OffscreenCanvas Unsupported");w(()=>import("./renderer.e25dd9ab.js"),[]).then(t=>{t.start(a,devicePixelRatio,window.innerWidth,window.innerHeight),window.addEventListener("resize",()=>{t.resize(window.innerWidth,window.innerHeight)}),s.addEventListener("click",()=>{t.exportGLTF().then(o=>{l(o,"scene.glb")})})}).catch(t=>{console.error(t)})}
